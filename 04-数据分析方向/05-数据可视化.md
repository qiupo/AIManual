# 数据可视化

## 📊 让数据说话

好的可视化让洞察一目了然。AI智能推荐图表类型，自动生成可视化代码。

## 可视化原则

### 选择正确的图表

```
"我想可视化[数据类型]

目的：[说明目标]
数据：[特征说明]

请推荐：
1. 最合适的图表类型
2. 推荐理由
3. 生成代码
4. 优化建议"
```

### 常见图表类型

| 数据类型 | 推荐图表 | 目的 |
|---------|---------|------|
| **趋势** | 折线图 | 时间序列变化 |
| **比较** | 柱状图 | 类别对比 |
| **分布** | 直方图 | 数据分布 |
| **关系** | 散点图 | 变量关系 |
| **占比** | 饼图 | 部分占比 |
| **多维** | 热力图 | 多维关系 |

## AI生成可视化

### 基础图表

```python
# 提示词
"创建销售趋势可视化：

数据：
- 日期列：date
- 销售列：sales
- 类别列：category

请：
1. 绘制时间趋势折线图
2. 按类别分组
3. 添加趋势线
4. 标注峰值
5. 美化样式

使用Seaborn"

# AI生成代码
import seaborn as sns
import matplotlib.pyplot as plt

plt.figure(figsize=(12, 6))

# 按类别绘制趋势
sns.lineplot(data=df,
             x='date',
             y='sales',
             hue='category',
             marker='o')

# 添加趋势线
sns.regplot(data=df,
            x=df['date'].astype(int),
            y='sales',
            scatter=False,
            color='black')

# 标注峰值
max_idx = df['sales'].idxmax()
max_date = df.loc[max_idx, 'date']
max_sales = df.loc[max_idx, 'sales']
plt.annotate(f'峰值: {max_sales}',
             xy=(max_date, max_sales),
             xytext=(10, 10),
             textcoords='offset points',
             bbox=dict(boxstyle='round,pad=0.5',
                      fc='yellow'),
             arrowprops=dict(arrowstyle='->'))

plt.title('销售趋势分析', fontsize=16)
plt.xlabel('日期', fontsize=12)
plt.ylabel('销售额', fontsize=12)
plt.legend(title='类别')
plt.grid(True, alpha=0.3)
plt.tight_layout()
```

### 高级可视化

```python
# 提示词
"创建交互式仪表板：

包含内容：
1. KPI卡片
2. 趋势图
3. 地理分布图
4. Top10排行

使用Plotly Dash"
```

### 多图组合

```
"创建组合图表：

主图：销售趋势
副图：增长率
辅助：成交量

要求：
1. 共享X轴
2. 对齐刻度
3. 统一风格
4. 添加注释"
```

## 可视化技巧

### 技巧1：配色方案

```
"优化图表配色：

类型：[图表类型]
数据：[说明]
主题：商务/学术/创意

请推荐：
1. 配色方案
2. 考虑色盲友好
3. 提供hex色值
4. 应用到代码"
```

### 技巧2：标注强调

```
"增强图表可读性：

图表：[描述]

请添加：
1. 数据标签
2. 趋势线
3. 阈值线
4. 异常标注
5. 注释说明"
```

### 技巧3：交互式

```
"创建交互式可视化：

数据：[描述]

功能：
1. 缩放平移
2. 悬停提示
3. 图例筛选
4. 动画效果

使用Plotly"
```

## 特殊可视化

### 地理可视化

```python
# 提示词
"绘制地理分布图：

数据：
- 城市
- 经纬度
- 数值

请创建：
1. 散点地图
2. 热力图
3. 区域填充

使用Folium/Plotly"
```

### 网络图

```
"可视化关系网络：

节点：[说明]
边：[说明]

请：
1. 力导向布局
2. 节点大小映射重要性
3. 边的粗细映射强度
4. 社区检测"
```

### 文本可视化

```
"可视化文本数据：

文本：[语料]

请创建：
1. 词云图
2. 词频柱状图
3. 共现网络
4. 主题分布"
```

## 可视化最佳实践

### 实践1：清晰标题

```
□ 描述性标题
□ 单位标注
□ 数据来源
□ 时间范围
```

### 实践2：合理尺度

```
□ 避免截断坐标轴
□ 选择合适比例
□ 使用对数坐标（如需要）
□ 保持一致性
```

### 实践3：颜色使用

```
□ 对比鲜明
□ 考虑色盲
□ 有限颜色（3-5种）
□ 统一风格
```

### 实践4：简洁原则

```
□ 去除冗余元素
□ 减少墨水比
□ 突出关键信息
□ 避免过度装饰
```

## 🎯 可视化检查清单

```
设计阶段：
□ 目标明确
□ 图表合适
□ 数据准确

制作阶段：
□ 代码正确
□ 样式统一
□ 布局合理

审核阶段：
□ 信息完整
□ 易于理解
□ 无误导性
□ 符合规范
```

## 📚 总结

好的可视化让洞察一目了然。

**核心原则：**
- ✅ 选择正确图表
- ✅ 保持简洁清晰
- ✅ 突出关键信息
- ✅ 美观且准确

**记住：**
- 形式服务于内容
- 清晰胜过花哨
- 一致性很重要
- 测试读者理解

---

💡 **下一步**：学习[报告与洞察](./06-报告与洞察.md)！

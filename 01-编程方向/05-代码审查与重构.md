# ä»£ç å®¡æŸ¥ä¸é‡æ„

AIæ˜¯å¼ºå¤§çš„ä»£ç å®¡æŸ¥åŠ©æ‰‹ï¼Œèƒ½å¸®åŠ©å‘ç°æ½œåœ¨é—®é¢˜ã€æ”¹è¿›ä»£ç è´¨é‡ã€æ‰§è¡Œå®‰å…¨é‡æ„ã€‚

## ğŸ¯ æœ¬ç« ç›®æ ‡

- âœ… ç”¨AIè¿›è¡Œä»£ç å®¡æŸ¥
- âœ… è¯†åˆ«ä»£ç åå‘³é“
- âœ… å®‰å…¨åœ°é‡æ„ä»£ç 
- âœ… å»ºç«‹ä»£ç è´¨é‡æ ‡å‡†

## ğŸ” AIè¾…åŠ©ä»£ç å®¡æŸ¥

### ä¸ºä»€ä¹ˆéœ€è¦ä»£ç å®¡æŸ¥

```
äººå·¥å®¡æŸ¥çš„å±€é™ï¼š
- æ—¶é—´æœ‰é™ï¼Œå¯èƒ½é—æ¼
- ä¾èµ–å®¡æŸ¥è€…ç»éªŒ
- ä¸»è§‚åˆ¤æ–­
- éš¾ä»¥ä¿æŒä¸€è‡´æ€§

AIå®¡æŸ¥çš„ä¼˜åŠ¿ï¼š
- å…¨é¢æ£€æŸ¥æ¯ä¸ªç»†èŠ‚
- åŸºäºæœ€ä½³å®è·µ
- å®¢è§‚æ ‡å‡†
- å¯é‡å¤æ‰§è¡Œ
```

### å®¡æŸ¥ç±»å‹

#### ç±»å‹1: åŠŸèƒ½å®¡æŸ¥

```
æç¤ºè¯æ¨¡æ¿ï¼š
"å®¡æŸ¥ä»¥ä¸‹ä»£ç çš„åŠŸèƒ½å®ç°ï¼š

[ç²˜è´´ä»£ç ]

å®¡æŸ¥è¦ç‚¹ï¼š
1. æ˜¯å¦å®ç°äº†éœ€æ±‚ï¼Ÿ
2. è¾¹ç•Œæƒ…å†µå¤„ç†
3. é”™è¯¯å¤„ç†å®Œå–„
4. é€»è¾‘æ­£ç¡®æ€§

éœ€æ±‚è¯´æ˜ï¼š
[éœ€æ±‚æè¿°]

è¯·ç»™å‡ºï¼š
1. å‘ç°çš„é—®é¢˜åˆ—è¡¨
2. æ¯ä¸ªé—®é¢˜çš„ä¸¥é‡ç¨‹åº¦
3. ä¿®å¤å»ºè®®
4. æ”¹è¿›åçš„ä»£ç "
```

**å®æˆ˜ç¤ºä¾‹**ï¼š

```python
# å¾…å®¡æŸ¥ä»£ç 
def calculate_discount(price, user_level):
    if user_level == 'VIP':
        return price * 0.8
    elif user_level == 'SVIP':
        return price * 0.7
    else:
        return price

# ä½¿ç”¨
final_price = calculate_discount(100, 'VIP')
```

```
æç¤ºè¯ï¼š
"å®¡æŸ¥è¿™ä¸ªæŠ˜æ‰£è®¡ç®—å‡½æ•°ï¼š

[ç²˜è´´ä»£ç ]

é—®é¢˜ï¼š
1. å¦‚æœpriceæ˜¯è´Ÿæ•°ä¼šæ€æ ·ï¼Ÿ
2. å¦‚æœuser_levelæ˜¯Noneå‘¢ï¼Ÿ
3. æŠ˜æ‰£è§„åˆ™æ˜¯å¦åº”è¯¥å¯é…ç½®ï¼Ÿ
4. ç¼ºå°‘è¾“å…¥éªŒè¯

è¯·ï¼š
1. åˆ—å‡ºæ‰€æœ‰æ½œåœ¨é—®é¢˜
2. è¯„ä¼°é£é™©ç­‰çº§
3. æä¾›æ”¹è¿›ç‰ˆæœ¬
4. æ·»åŠ å®Œæ•´æ³¨é‡Š"
```

**AIå®¡æŸ¥ç»“æœ**ï¼š

```python
# å‘ç°çš„é—®é¢˜ï¼š

é—®é¢˜1ï¼šç¼ºå°‘è¾“å…¥éªŒè¯
- ä¸¥é‡ç¨‹åº¦ï¼šé«˜
- é£é™©ï¼šè´Ÿæ•°ä»·æ ¼å¯èƒ½å¯¼è‡´ä¸šåŠ¡æŸå¤±
- å»ºè®®ï¼šæ·»åŠ å‚æ•°éªŒè¯

é—®é¢˜2ï¼šé­”æ³•æ•°å­—
- ä¸¥é‡ç¨‹åº¦ï¼šä¸­
- å½±å“ï¼šéš¾ä»¥ç»´æŠ¤
- å»ºè®®ï¼šä½¿ç”¨å¸¸é‡æˆ–é…ç½®

é—®é¢˜3ï¼šç¼ºå°‘ç±»å‹æç¤º
- ä¸¥é‡ç¨‹åº¦ï¼šä½
- å½±å“ï¼šä»£ç å¯è¯»æ€§
- å»ºè®®ï¼šæ·»åŠ ç±»å‹æ³¨è§£

é—®é¢˜4ï¼šç¼ºå°‘æ–‡æ¡£
- ä¸¥é‡ç¨‹åº¦ï¼šä¸­
- å½±å“ï¼šå…¶ä»–äººéš¾ä»¥ç†è§£
- å»ºè®®ï¼šæ·»åŠ docstring

# æ”¹è¿›ç‰ˆæœ¬ï¼š

from typing import Literal
from decimal import Decimal

class DiscountConfig:
    """æŠ˜æ‰£é…ç½®"""
    VIP_DISCOUNT = Decimal('0.8')
    SVIP_DISCOUNT = Decimal('0.7')
    REGULAR_DISCOUNT = Decimal('1.0')

def calculate_discount(
    price: float,
    user_level: Literal['VIP', 'SVIP', 'REGULAR']
) -> float:
    """
    è®¡ç®—æŠ˜æ‰£åä»·æ ¼

    å‚æ•°ï¼š
        price: åŸä»·ï¼Œå¿…é¡»å¤§äº0
        user_level: ç”¨æˆ·ç­‰çº§

    è¿”å›ï¼š
        æŠ˜æ‰£åçš„ä»·æ ¼

    å¼‚å¸¸ï¼š
        ValueError: ä»·æ ¼æ— æ•ˆ
        ValueError: ç”¨æˆ·ç­‰çº§æ— æ•ˆ
    """
    # è¾“å…¥éªŒè¯
    if not isinstance(price, (int, float)) or price <= 0:
        raise ValueError(f"ä»·æ ¼å¿…é¡»å¤§äº0ï¼Œå½“å‰å€¼: {price}")

    if user_level not in ['VIP', 'SVIP', 'REGULAR']:
        raise ValueError(f"æ— æ•ˆçš„ç”¨æˆ·ç­‰çº§: {user_level}")

    # æŠ˜æ‰£æ˜ å°„
    discount_map = {
        'VIP': DiscountConfig.VIP_DISCOUNT,
        'SVIP': DiscountConfig.SVIP_DISCOUNT,
        'REGULAR': DiscountConfig.REGULAR_DISCOUNT,
    }

    discount = discount_map[user_level]
    final_price = float(Decimal(str(price)) * discount)

    return final_price

# ä½¿ç”¨ç¤ºä¾‹
try:
    price = calculate_discount(100, 'VIP')
    print(f"æœ€ç»ˆä»·æ ¼: {price}")
except ValueError as e:
    print(f"é”™è¯¯: {e}")
```

#### ç±»å‹2: æ€§èƒ½å®¡æŸ¥

```
æç¤ºè¯ï¼š
"å®¡æŸ¥è¿™æ®µä»£ç çš„æ€§èƒ½ï¼š

[ç²˜è´´ä»£ç ]

æ•°æ®è§„æ¨¡ï¼š
- è¾“å…¥æ•°æ®ï¼š[è¯´æ˜]
- é¢„æœŸå“åº”æ—¶é—´ï¼š[è¦æ±‚]

å½“å‰é—®é¢˜ï¼š
- å¤„ç†1000æ¡æ•°æ®éœ€è¦5ç§’
- ç›®æ ‡ï¼šä¼˜åŒ–åˆ°1ç§’å†…

è¯·åˆ†æï¼š
1. æ€§èƒ½ç“¶é¢ˆåœ¨å“ªé‡Œ
2. æ—¶é—´/ç©ºé—´å¤æ‚åº¦
3. ä¼˜åŒ–æ–¹æ¡ˆ
4. æä¾›ä¼˜åŒ–åä»£ç 
5. æ€§èƒ½å¯¹æ¯”"
```

**ç¤ºä¾‹ï¼šä¼˜åŒ–åµŒå¥—å¾ªç¯**

```python
# æ…¢é€Ÿç‰ˆæœ¬
def find_duplicates_slow(arr):
    duplicates = []
    for i in range(len(arr)):
        for j in range(i + 1, len(arr)):
            if arr[i] == arr[j] and arr[i] not in duplicates:
                duplicates.append(arr[i])
    return duplicates

# æ—¶é—´å¤æ‚åº¦: O(nÂ²)
```

```
æç¤ºè¯ï¼š
"ä¼˜åŒ–è¿™ä¸ªæŸ¥æ‰¾é‡å¤å…ƒç´ çš„å‡½æ•°ï¼š
[ç²˜è´´ä»£ç ]

å½“å‰æ€§èƒ½ï¼š100ä¸‡å…ƒç´ éœ€è¦10åˆ†é’Ÿ
ç›®æ ‡ï¼šä¼˜åŒ–åˆ°10ç§’å†…

è¦æ±‚ï¼š
1. åˆ†ææ€§èƒ½é—®é¢˜
2. æä¾›3ä¸ªä¼˜åŒ–æ–¹æ¡ˆ
3. å¯¹æ¯”æ¯ä¸ªæ–¹æ¡ˆ
4. å®ç°æœ€ä¼˜æ–¹æ¡ˆ
5. æä¾›æ€§èƒ½æµ‹è¯•ä»£ç "
```

**AIä¼˜åŒ–æ–¹æ¡ˆ**ï¼š

```python
# æ–¹æ¡ˆ1: ä½¿ç”¨é›†åˆï¼ˆæ¨èï¼‰
def find_duplicates_fast(arr):
    """O(n) æ—¶é—´å¤æ‚åº¦"""
    seen = set()
    duplicates = set()

    for item in arr:
        if item in seen:
            duplicates.add(item)
        else:
            seen.add(item)

    return list(duplicates)

# æ–¹æ¡ˆ2: ä½¿ç”¨Counter
from collections import Counter

def find_duplicates_counter(arr):
    """ä½¿ç”¨Counterï¼Œé€‚åˆéœ€è¦ç»Ÿè®¡æ¬¡æ•°"""
    counter = Counter(arr)
    return [item for item, count in counter.items() if count > 1]

# æ–¹æ¡ˆ3: æ’åºåæŸ¥æ‰¾
def find_duplicates_sort(arr):
    """O(n log n) æ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´æœ€ä¼˜"""
    arr_sorted = sorted(arr)
    duplicates = []

    for i in range(1, len(arr_sorted)):
        if arr_sorted[i] == arr_sorted[i-1] and arr_sorted[i] not in duplicates:
            duplicates.append(arr_sorted[i])

    return duplicates

# æ€§èƒ½æµ‹è¯•
import time
import random

# ç”Ÿæˆæµ‹è¯•æ•°æ®
test_data = [random.randint(1, 1000) for _ in range(1000000)]

# æµ‹è¯•
for func, name in [
    (find_duplicates_fast, "é›†åˆæ–¹æ³•"),
    (find_duplicates_counter, "Counteræ–¹æ³•"),
    (find_duplicates_sort, "æ’åºæ–¹æ³•")
]:
    start = time.time()
    result = func(test_data)
    elapsed = time.time() - start
    print(f"{name}: {elapsed:.2f}ç§’, æ‰¾åˆ°{len(result)}ä¸ªé‡å¤")

# ç»“æœï¼š
# é›†åˆæ–¹æ³•: 0.15ç§’
# Counteræ–¹æ³•: 0.18ç§’
# æ’åºæ–¹æ³•: 0.35ç§’
```

#### ç±»å‹3: å®‰å…¨å®¡æŸ¥

```
æç¤ºè¯ï¼š
"è¿›è¡Œå®‰å…¨ä»£ç å®¡æŸ¥ï¼š

[ç²˜è´´ä»£ç ]

æ£€æŸ¥é¡¹ï¼š
1. SQLæ³¨å…¥
2. XSSæ”»å‡»
3. CSRFä¿æŠ¤
4. æ•æ„Ÿæ•°æ®æ³„éœ²
5. æƒé™æ£€æŸ¥
6. è¾“å…¥éªŒè¯

è¯·ï¼š
1. åˆ—å‡ºæ‰€æœ‰å®‰å…¨éšæ‚£
2. è¯´æ˜æ¯ä¸ªé£é™©
3. æä¾›ä¿®å¤æ–¹æ¡ˆ
4. ç»™å‡ºå®‰å…¨ç‰ˆæœ¬ä»£ç 
5. è¯´æ˜é˜²å¾¡æªæ–½"
```

**ç¤ºä¾‹ï¼šWebåº”ç”¨å®‰å…¨**

```python
# ä¸å®‰å…¨çš„ä»£ç 
def get_user(user_id):
    query = f"SELECT * FROM users WHERE id = {user_id}"
    return db.execute(query)

def render_page(user_input):
    return f"<html><body>{user_input}</body></html>"
```

```
æç¤ºè¯ï¼š
"å®¡æŸ¥è¿™æ®µä»£ç çš„å®‰å…¨é—®é¢˜ï¼š
[ç²˜è´´ä»£ç ]

è¿™æ˜¯ä¸€ä¸ªWebåº”ç”¨çš„åç«¯ä»£ç 

è¯·é‡ç‚¹æ£€æŸ¥ï¼š
1. SQLæ³¨å…¥é£é™©
2. XSSæ¼æ´
3. å…¶ä»–å®‰å…¨é—®é¢˜

æä¾›ï¼š
1. é—®é¢˜åˆ†æ
2. æ”»å‡»ç¤ºä¾‹
3. å®‰å…¨ç‰ˆæœ¬
4. é˜²å¾¡æœ€ä½³å®è·µ"
```

**AIå®‰å…¨å®¡æŸ¥**ï¼š

```python
# å‘ç°çš„å®‰å…¨é—®é¢˜ï¼š

é—®é¢˜1ï¼šSQLæ³¨å…¥ï¼ˆä¸¥é‡ï¼‰
- ä½ç½®ï¼šget_userå‡½æ•°
- æ”»å‡»ç¤ºä¾‹ï¼š
  user_id = "1; DROP TABLE users--"
  ä¼šæ‰§è¡Œæ¶æ„SQL
- ä¿®å¤ï¼šä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢

é—®é¢˜2ï¼šXSSæ”»å‡»ï¼ˆä¸¥é‡ï¼‰
- ä½ç½®ï¼šrender_pageå‡½æ•°
- æ”»å‡»ç¤ºä¾‹ï¼š
  user_input = "<script>alert('XSS')</script>"
  ä¼šæ‰§è¡Œæ¶æ„è„šæœ¬
- ä¿®å¤ï¼šHTMLè½¬ä¹‰

# å®‰å…¨ç‰ˆæœ¬ï¼š

import html
import sqlite3

def get_user_safe(user_id: int) -> dict:
    """
    å®‰å…¨åœ°è·å–ç”¨æˆ·ä¿¡æ¯

    ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢é˜²æ­¢SQLæ³¨å…¥
    """
    if not isinstance(user_id, int) or user_id <= 0:
        raise ValueError("Invalid user ID")

    try:
        # ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
        query = "SELECT * FROM users WHERE id = ?"
        cursor = db.execute(query, (user_id,))
        user = cursor.fetchone()

        if not user:
            raise ValueError("User not found")

        return dict(user)

    except sqlite3.Error as e:
        raise RuntimeError(f"Database error: {e}")

def render_page_safe(user_input: str) -> str:
    """
    å®‰å…¨åœ°æ¸²æŸ“é¡µé¢

    HTMLè½¬ä¹‰é˜²æ­¢XSSæ”»å‡»
    """
    if not isinstance(user_input, str):
        raise ValueError("Invalid input")

    # HTMLè½¬ä¹‰
    safe_input = html.escape(user_input)
    return f"<html><body>{safe_input}</body></html>"

# é¢å¤–çš„å®‰å…¨æªæ–½

def validate_user_input(user_input: str, max_length: int = 1000) -> str:
    """
    è¾“å…¥éªŒè¯
    """
    if not isinstance(user_input, str):
        raise ValueError("Input must be a string")

    if len(user_input) > max_length:
        raise ValueError(f"Input too long (max {max_length} chars)")

    if any(char in user_input for char in ['<', '>', '"', "'"]):
        raise ValueError("Input contains dangerous characters")

    return user_input.strip()

# ç»¼åˆä½¿ç”¨
def safe_render(user_input: str) -> str:
    """
    å®Œæ•´çš„å®‰å…¨æ¸²æŸ“æµç¨‹
    """
    # 1. è¾“å…¥éªŒè¯
    validated = validate_user_input(user_input)

    # 2. HTMLè½¬ä¹‰
    escaped = html.escape(validated)

    # 3. å†…å®¹å®‰å…¨ç­–ç•¥
    return f"""
    <html>
    <head>
    <meta http-equiv="Content-Security-Policy"
          content="default-src 'self'">
    </head>
    <body>{escaped}</body>
    </html>
    """
```

## ğŸ”§ ä»£ç é‡æ„

### é‡æ„åŸåˆ™

```
ä½•æ—¶é‡æ„ï¼š
- ä»£ç éš¾æ‡‚
- é‡å¤ä»£ç å¤š
- ä¿®æ”¹å›°éš¾
- æµ‹è¯•å›°éš¾

é‡æ„åŸåˆ™ï¼š
- å°æ­¥å‰è¿›
- é¢‘ç¹æµ‹è¯•
- ä¿æŒåŠŸèƒ½ä¸å˜
- æŒç»­æ”¹è¿›
```

### é‡æ„ç±»å‹

#### ç±»å‹1: æå–å‡½æ•°

```python
# é‡æ„å‰ï¼šé•¿å‡½æ•°
def process_order(order):
    # éªŒè¯è®¢å•
    if not order.get('items'):
        raise ValueError("No items")
    if order.get('total', 0) <= 0:
        raise ValueError("Invalid total")

    # è®¡ç®—æŠ˜æ‰£
    discount = 0
    if order.get('user_level') == 'VIP':
        discount = 0.2
    elif order.get('user_level') == 'SVIP':
        discount = 0.3

    # ä¿å­˜è®¢å•
    order['discount'] = discount
    order['final_total'] = order['total'] * (1 - discount)
    order['status'] = 'pending'

    # å‘é€é€šçŸ¥
    print(f"Order {order['id']} created")
    print(f"Total: ${order['final_total']}")

    return order
```

```
æç¤ºè¯ï¼š
"é‡æ„è¿™ä¸ªå‡½æ•°ï¼š
[ç²˜è´´ä»£ç ]

é—®é¢˜ï¼š
1. å‡½æ•°å¤ªé•¿ï¼ˆ50è¡Œï¼‰
2. èŒè´£ä¸å•ä¸€
3. éš¾ä»¥æµ‹è¯•
4. ç¼ºå°‘æ–‡æ¡£

é‡æ„è¦æ±‚ï¼š
1. æå–å°å‡½æ•°
2. å•ä¸€èŒè´£
3. æ·»åŠ ç±»å‹æ³¨è§£
4. æ·»åŠ æ–‡æ¡£å­—ç¬¦ä¸²
5. ä¿æŒåŠŸèƒ½ä¸å˜"
```

**AIé‡æ„**ï¼š

```python
from typing import Dict, Any
from dataclasses import dataclass

@dataclass
class Order:
    """è®¢å•æ•°æ®ç±»"""
    id: str
    items: list
    total: float
    user_level: str
    discount: float = 0
    final_total: float = 0
    status: str = 'pending'

class OrderProcessor:
    """è®¢å•å¤„ç†å™¨"""

    def __init__(self):
        self.discount_rules = {
            'VIP': 0.2,
            'SVIP': 0.3
        }

    def process(self, order: Order) -> Order:
        """
        å¤„ç†è®¢å•

        æ­¥éª¤ï¼š
        1. éªŒè¯è®¢å•
        2. è®¡ç®—æŠ˜æ‰£
        3. ä¿å­˜è®¢å•
        4. å‘é€é€šçŸ¥
        """
        self._validate_order(order)
        self._calculate_discount(order)
        self._save_order(order)
        self._send_notification(order)
        return order

    def _validate_order(self, order: Order) -> None:
        """éªŒè¯è®¢å•"""
        if not order.items:
            raise ValueError("è®¢å•å¿…é¡»åŒ…å«å•†å“")

        if order.total <= 0:
            raise ValueError("è®¢å•æ€»é¢å¿…é¡»å¤§äº0")

    def _calculate_discount(self, order: Order) -> None:
        """è®¡ç®—æŠ˜æ‰£"""
        order.discount = self.discount_rules.get(
            order.user_level, 0
        )
        order.final_total = order.total * (1 - order.discount)

    def _save_order(self, order: Order) -> None:
        """ä¿å­˜è®¢å•åˆ°æ•°æ®åº“"""
        # æ•°æ®åº“ä¿å­˜é€»è¾‘
        order.status = 'pending'

    def _send_notification(self, order: Order) -> None:
        """å‘é€è®¢å•é€šçŸ¥"""
        print(f"è®¢å• {order.id} å·²åˆ›å»º")
        print(f"æ€»é‡‘é¢: ${order.final_total:.2f}")

# ä½¿ç”¨
processor = OrderProcessor()
order = Order(
    id="12345",
    items=["item1", "item2"],
    total=100,
    user_level="VIP"
)
processed_order = processor.process(order)
```

#### ç±»å‹2: å¼•å…¥è®¾è®¡æ¨¡å¼

```
æç¤ºè¯ï¼š
"ä½¿ç”¨è®¾è®¡æ¨¡å¼é‡æ„è¿™æ®µä»£ç ï¼š
[ç²˜è´´ä»£ç ]

å½“å‰é—®é¢˜ï¼š
- å¤§é‡if-else
- éš¾ä»¥æ‰©å±•
- è¿åå¼€é—­åŸåˆ™

è¯·ï¼š
1. è¯†åˆ«é€‚ç”¨æ¨¡å¼
2. è¯´æ˜ä¸ºä»€ä¹ˆç”¨è¿™ä¸ªæ¨¡å¼
3. å®ç°é‡æ„
4. å±•ç¤ºæ‰©å±•æ€§"
```

**ç¤ºä¾‹ï¼šç­–ç•¥æ¨¡å¼é‡æ„**

```python
# é‡æ„å‰
def calculate_payroll(employee):
    if employee['type'] == 'fulltime':
        return employee['salary'] / 12
    elif employee['type'] == 'parttime':
        return employee['hourly_rate'] * employee['hours']
    elif employee['type'] == 'contractor':
        return employee['hourly_rate'] * employee['hours'] * 1.2
    # æ¯æ¬¡æ–°å¢ç±»å‹éƒ½è¦ä¿®æ”¹è¿™é‡Œ
```

```
æç¤ºè¯ï¼š
"ç”¨ç­–ç•¥æ¨¡å¼é‡æ„è–ªé…¬è®¡ç®—ï¼š
[ç²˜è´´ä»£ç ]

è¦æ±‚ï¼š
1. å®šä¹‰ç­–ç•¥æ¥å£
2. å®ç°ä¸åŒç­–ç•¥
3. ä½¿ç”¨å·¥å‚æ¨¡å¼
4. å±•ç¤ºå¦‚ä½•è½»æ¾æ‰©å±•æ–°ç±»å‹"
```

**AIé‡æ„**ï¼š

```python
from abc import ABC, abstractmethod
from typing import Dict

# ç­–ç•¥æ¥å£
class PayrollStrategy(ABC):
    """è–ªé…¬è®¡ç®—ç­–ç•¥æ¥å£"""

    @abstractmethod
    def calculate(self, employee: Dict) -> float:
        """è®¡ç®—è–ªé…¬"""
        pass

# å…·ä½“ç­–ç•¥
class FullTimePayroll(PayrollStrategy):
    """å…¨èŒå‘˜å·¥è–ªé…¬"""

    def calculate(self, employee: Dict) -> float:
        return employee['salary'] / 12

class PartTimePayroll(PayrollStrategy):
    """å…¼èŒå‘˜å·¥è–ªé…¬"""

    def calculate(self, employee: Dict) -> float:
        return employee['hourly_rate'] * employee['hours']

class ContractorPayroll(PayrollStrategy):
    """åˆåŒå·¥è–ªé…¬"""

    def calculate(self, employee: Dict) -> float:
        return employee['hourly_rate'] * employee['hours'] * 1.2

# ç­–ç•¥å·¥å‚
class PayrollStrategyFactory:
    """è–ªé…¬ç­–ç•¥å·¥å‚"""

    _strategies = {
        'fulltime': FullTimePayroll(),
        'parttime': PartTimePayroll(),
        'contractor': ContractorPayroll(),
    }

    @classmethod
    def get_strategy(cls, employee_type: str) -> PayrollStrategy:
        """è·å–ç­–ç•¥"""
        strategy = cls._strategies.get(employee_type)
        if not strategy:
            raise ValueError(f"Unknown employee type: {employee_type}")
        return strategy

    @classmethod
    def register_strategy(cls, type_name: str, strategy: PayrollStrategy):
        """æ³¨å†Œæ–°ç­–ç•¥ï¼ˆå¼€é—­åŸåˆ™ï¼‰"""
        cls._strategies[type_name] = strategy

# ä½¿ç”¨
def calculate_payroll(employee: Dict) -> float:
    """è®¡ç®—è–ªé…¬"""
    strategy = PayrollStrategyFactory.get_strategy(employee['type'])
    return strategy.calculate(employee)

# æ‰©å±•æ–°ç±»å‹ï¼ˆæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ï¼‰
class InternPayroll(PayrollStrategy):
    """å®ä¹ ç”Ÿè–ªé…¬"""

    def calculate(self, employee: Dict) -> float:
        return employee['stipend'] / 12

# æ³¨å†Œæ–°ç±»å‹
PayrollStrategyFactory.register_strategy('intern', InternPayroll())

# ç°åœ¨å¯ä»¥å¤„ç†å®ä¹ ç”Ÿç±»å‹
employee = {'type': 'intern', 'stipend': 3000}
payroll = calculate_payroll(employee)
```

#### ç±»å‹3: ä¼˜åŒ–æ•°æ®ç»“æ„

```
æç¤ºè¯ï¼š
"ä¼˜åŒ–æ•°æ®ç»“æ„è®¾è®¡ï¼š
[ç²˜è´´ä»£ç ]

å½“å‰é—®é¢˜ï¼š
- ä½¿ç”¨åˆ—è¡¨é¢‘ç¹æŸ¥æ‰¾
- æ•ˆç‡ä½ä¸‹
- ä»£ç å¤æ‚

è¯·ï¼š
1. åˆ†ææ•°æ®ä½¿ç”¨æ¨¡å¼
2. é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„
3. é‡æ„ä»£ç 
4. å¯¹æ¯”æ€§èƒ½"
```

## ğŸ“‹ ä»£ç å®¡æŸ¥æ¸…å•

### åŠŸèƒ½æ€§æ£€æŸ¥
```
â–¡ éœ€æ±‚æ˜¯å¦å®Œå…¨å®ç°
â–¡ è¾¹ç•Œæƒ…å†µå¤„ç†
â–¡ é”™è¯¯å¤„ç†å®Œå–„
â–¡ é€»è¾‘æ­£ç¡®æ€§
```

### æ€§èƒ½æ£€æŸ¥
```
â–¡ æ—¶é—´å¤æ‚åº¦åˆç†
â–¡ ç©ºé—´å¤æ‚åº¦åˆç†
â–¡ æ²¡æœ‰æ˜æ˜¾çš„æ€§èƒ½é—®é¢˜
â–¡ è€ƒè™‘å¤§æ•°æ®é‡åœºæ™¯
```

### å®‰å…¨æ€§æ£€æŸ¥
```
â–¡ è¾“å…¥éªŒè¯
â–¡ SQLæ³¨å…¥é˜²æŠ¤
â–¡ XSSé˜²æŠ¤
â–¡ CSRFé˜²æŠ¤
â–¡ æ•æ„Ÿæ•°æ®ä¿æŠ¤
â–¡ æƒé™æ£€æŸ¥
```

### å¯ç»´æŠ¤æ€§æ£€æŸ¥
```
â–¡ ä»£ç ç»“æ„æ¸…æ™°
â–¡ å‘½åæœ‰æ„ä¹‰
â–¡ æ³¨é‡Šå……åˆ†
â–¡ é¿å…é‡å¤ä»£ç ï¼ˆDRYï¼‰
â–¡ å•ä¸€èŒè´£åŸåˆ™
```

### æµ‹è¯•æ£€æŸ¥
```
â–¡ å•å…ƒæµ‹è¯•
â–¡ é›†æˆæµ‹è¯•
â–¡ è¾¹ç•Œæµ‹è¯•
â–¡ å¼‚å¸¸æµ‹è¯•
```

## âš¡ å®æˆ˜ç»ƒä¹ 

### ç»ƒä¹ 1: ä»£ç å®¡æŸ¥
```
"å®¡æŸ¥è¿™æ®µä»£ç çš„æ‰€æœ‰é—®é¢˜ï¼š
[ç²˜è´´ä»£ç ]

æŒ‰ä¸¥é‡ç¨‹åº¦æ’åºï¼š
1. ä¸¥é‡é—®é¢˜ï¼ˆå¿…é¡»ä¿®å¤ï¼‰
2. è­¦å‘Šé—®é¢˜ï¼ˆåº”è¯¥ä¿®å¤ï¼‰
3. å»ºè®®é—®é¢˜ï¼ˆå¯ä»¥ä¼˜åŒ–ï¼‰
```

### ç»ƒä¹ 2: æ€§èƒ½ä¼˜åŒ–
```
"ä¼˜åŒ–è¿™æ®µä»£ç çš„æ€§èƒ½ï¼š
[ç²˜è´´ä»£ç ]

å½“å‰ï¼šå¤„ç†1ä¸‡æ•°æ®éœ€è¦10ç§’
ç›®æ ‡ï¼šä¼˜åŒ–åˆ°1ç§’å†…"
```

### ç»ƒä¹ 3: å®‰å…¨åŠ å›º
```
"æ‰¾å‡ºå¹¶ä¿®å¤æ‰€æœ‰å®‰å…¨éšæ‚£ï¼š
[ç²˜è´´ä»£ç ]
```

## ğŸ’¡ æœ€ä½³å®è·µ

### DO âœ…
1. å®šæœŸå®¡æŸ¥ä»£ç 
2. ä½¿ç”¨AIè¾…åŠ©å®¡æŸ¥
3. å°æ­¥é‡æ„
4. ä¿æŒæµ‹è¯•é€šè¿‡
5. è®°å½•é‡æ„åŸå› 

### DON'T âŒ
1. ä¸è¦ä¸€æ¬¡æ€§å¤§æ”¹
2. ä¸è¦è·³è¿‡æµ‹è¯•
3. ä¸è¦ä¸ºäº†é‡æ„è€Œé‡æ„
4. ä¸è¦å¿½ç•¥è­¦å‘Š

## å°ç»“

- AIæ˜¯å¼ºå¤§çš„ä»£ç å®¡æŸ¥å·¥å…·
- è¯†åˆ«å„ç±»ä»£ç é—®é¢˜
- å®‰å…¨åœ°è¿›è¡Œé‡æ„
- å»ºç«‹ä»£ç è´¨é‡æ ‡å‡†

## ä¸‹ä¸€æ­¥

å­¦ä¹ [æ¶æ„è®¾è®¡è¾…åŠ©](./06-æ¶æ„è®¾è®¡è¾…åŠ©.md)ã€‚

---

ğŸ’¡ **å®¡æŸ¥å»ºè®®**ï¼šAIå®¡æŸ¥ + äººå·¥å®¡æŸ¥ = æœ€ä½³ä»£ç è´¨é‡ã€‚AIå‘ç°æŠ€æœ¯é—®é¢˜ï¼Œäººç±»åˆ¤æ–­ä¸šåŠ¡é€»è¾‘ï¼
